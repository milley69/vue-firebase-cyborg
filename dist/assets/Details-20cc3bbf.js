import{M as k}from"./ModalImage-42162858.js";import{_ as f,r as g,o as i,c as a,a as e,F as w,d as y,e as D,w as I,f as n,t as o,m as C,b as p,g as m,z as _}from"./index-8c210842.js";const G={props:["id"],data(){return{loader:!0,games:[]}},async mounted(){this.games=await this.$store.dispatch("fetchGames"),this.loader=!1},computed:{onlySix(){const s=this.games.findIndex(l=>l.gameID===this.id);return this.games.splice(s,1),this.games.slice(0,6)}}},M={class:"mt-15 rounded-23px bg-primary-100 px-7/5 pt-7/5"},j={class:"-mx-3 mt-0 flex flex-wrap"},S=e("div",{class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},[e("div",null,[e("h4",{class:"mb-7/5 text-[20px] font-bold text-primary-200 md:text-[34px]"},[e("em",{class:"not-italic text-white underline"},"Other Related"),n(" Games ")])])],-1),L={class:"relative mb-7/5 border-b border-secondary pb-[52px]"},N=["src","alt"],A={class:"text-15px tr-300 mb-[5px] inline-block w-[60%] text-white group-hover:text-primary-200"},B=e("br",null,null,-1),R={class:"mt-[7px] block font-normal text-gray-66"},z={class:"absolute right-0 top-[15px]"},F={class:"flex items-center justify-center text-right text-[14px] text-white"},O=e("i",{class:"bx bx-xs bxs-star pr-1 text-yellow-400"},null,-1),V={class:"flex items-center justify-center text-right text-[14px] text-white"},q=e("i",{class:"bx bx-xs bxs-cloud-download pr-1 text-primary-200"},null,-1);function U(s,l,u,x,t,c){const h=g("router-link");return i(),a("section",M,[e("div",j,[S,(i(!0),a(w,null,y(c.onlySix,r=>(i(),a("div",{class:"mt-0 w-full max-w-full px-3 lg:w-1/2 lg:shrink-0 lg:grow-0 lg:basis-auto",key:r.gameID},[D(h,{to:`/details/${r.gameID}`,tag:"div",class:"item group block"},{default:I(()=>[e("div",L,[e("img",{src:r.images.imgMin,alt:r.title,class:"float-left mr-[15px] w-full max-w-[80px] rounded-[23px]"},null,8,N),e("h4",A,[n(o(r.title)+" ",1),B,e("span",R,o(r.genre),1)]),e("ul",z,[e("li",F,[O,n(" "+o(r.rating),1)]),e("li",V,[q,n(" "+o(s.numForm(r.downloaded,"M")),1)])])])]),_:2},1032,["to"])]))),128))])])}const E=f(G,[["render",U]]);function P(s){let l=s.querySelector(".video__link"),u=s.querySelector(".video__media"),x=s.querySelector(".video__button"),t=H(u);s.addEventListener("click",()=>{let c=T(t);l.remove(),x.remove(),s.appendChild(c)}),l.removeAttribute("href"),s.classList.add("video--enabled")}function H(s){let l=/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;return s.src.match(l)[1]}function T(s){let l=document.createElement("iframe");return l.setAttribute("allowfullscreen",""),l.setAttribute("allow","autoplay"),l.setAttribute("src",W(s)),l.classList.add("video__media","absolute","top-0","left-0","h-full","w-full","border-0","border-none","rounded-23px"),l}function W(s){let l="?rel=0&showinfo=0&autoplay=1";return"https://www.youtube.com/embed/"+s+l}const Z={props:["close"],components:{DetailsRelated:E,ModalImage:k},data(){return{modal:{open:!1,image:null},game:null,user:{games:{}},loader:!0}},methods:{openImage(s){window.innerWidth<992||(this.modal.image=s,this.modal.open=!0)},checkHasGame(){return!!Object.hasOwnProperty.call(this.user.games,this.game.gameID)},checkDownload(){return Object.hasOwnProperty.call(this.user.games,this.game.gameID)||null?this.user.games[this.game.gameID].download:!1},async getGame(s){await this.$store.dispatch("getGame",{gameID:s,dateAdded:Number(new Date),download:!1,hoursPlayed:0}),this.user.games[s]={download:!1}},async downloadGame(s){await this.$store.dispatch("downloadGame",s),this.user.games[s].download=!0}},async mounted(){this.game=await this.$store.dispatch("fetchGameByID",this.$route.params.id),this.user.games=await this.getUser.games,this.loader=!1,setTimeout(()=>{P(this.$refs.video)},0)},computed:{...C(["getUser"])}},$={key:1,class:"-mx-3 mt-0 flex flex-wrap"},J={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},K={class:"-mx-3 mt-0 flex flex-wrap"},Q={class:"mx-auto mt-0 w-2/3 max-w-full px-3 lg:w-1/3 lg:shrink-0 lg:grow-0 lg:basis-auto"},X=["src"],Y={class:"mt-7/5 w-full max-w-full px-3 lg:mt-0 lg:w-2/3 lg:shrink-0 lg:grow-0 lg:basis-auto"},ee={class:"video relative h-0 w-full rounded-23px bg-black pb-[56.25%]",ref:"video"},te=["href"],se=["srcset"],le=["src","alt"],oe=e("button",{class:"video__button absolute top-1/2 left-1/2 z-[1] hidden h-12 w-[68px] -translate-x-1/2 -translate-y-1/2 cursor-pointer border-0 border-none bg-transparent p-0","aria-label":"start trailer"},[e("svg",{width:"68",height:"48",viewBox:"0 0 68 48"},[e("path",{class:"video__button-shape",d:"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z"}),e("path",{class:"video__button-icon",d:"M 45,24 27,14 27,34"})])],-1),ie={key:2},ae={class:"-mx-3 mt-0 flex flex-wrap"},re={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},ne={class:"my-15 text-center text-[45px] uppercase"},ce={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},de={class:"rounded-23px bg-primary-100 p-7/5"},me={class:"-mx-3 mt-0 flex flex-wrap"},ue={class:"mt-0 mb-7/5 w-full max-w-full shrink-0 px-3 lg:mb-0 lg:w-1/2 lg:grow-0 lg:basis-auto lg:first-line:w-1/2"},xe={class:"mb-7/5 h-full rounded-23px bg-secondary px-7/5 pt-5 pb-7"},ge={class:"float-left"},he={class:"block text-[15px]"},pe={class:"mt-[7px] block font-normal text-gray-66"},_e={class:"float-right"},we={class:"flex items-center justify-center text-right text-[14px] text-white"},be=e("i",{class:"bx bx-xs bxs-star pr-1 text-yellow-400"},null,-1),fe={class:"mt-[7px] flex items-center justify-center text-right text-[14px] text-white"},ye=e("i",{class:"bx bx-xs bxs-cloud-download pr-1 text-primary-200"},null,-1),ve={class:"mt-0 w-full max-w-full shrink-0 px-3 lg:w-1/2 lg:grow-0 lg:basis-auto"},ke={class:"h-full rounded-23px bg-secondary px-7/5 pt-5 pb-7/5"},De={class:"inline-block w-[23%] text-center text-[14px] text-white"},Ie=e("i",{class:"bx bx-xs bxs-star mb-3 block text-yellow-400"},null,-1),Ce={class:"inline-block w-[23%] text-center text-[14px] text-white"},Ge=e("i",{class:"bx bx-xs bxs-cloud-download mb-3 block text-primary-200"},null,-1),Me={class:"inline-block w-[23%] text-center text-[14px] text-white"},je=e("i",{class:"bx bx-xs bxs-hdd mb-3 block text-primary-200"},null,-1),Se={class:"inline-block w-[23%] text-center text-[14px] text-white"},Le=e("i",{class:"bx bx-xs bxs-joystick-alt mb-3 block text-primary-200"},null,-1),Ne=["src","alt","onClick"],Ae={class:"mt-0 w-full max-w-full shrink-0 px-3 lg:grow-0 lg:basis-auto"},Be={class:"mb-0 text-[15px] leading-[30px] text-gray-66"},Re={class:"mt-7/5 w-full max-w-full shrink-0 px-3 text-center lg:grow-0 lg:basis-auto"},ze={class:"main-border-button"};function Fe(s,l,u,x,t,c){const h=g("loader"),r=g("ModalImage"),v=g("DetailsRelated");return i(),a(w,null,[e("section",null,[t.loader?(i(),p(h,{key:0})):m("",!0),t.loader?m("",!0):(i(),a("div",$,[e("div",J,[e("div",null,[e("div",K,[e("div",Q,[e("img",{src:t.game.images.imgMin,class:"w-full overflow-hidden rounded-23px",alt:""},null,8,X)]),e("div",Y,[e("div",ee,[e("a",{href:`https://youtu.be/${t.game.images.trailer}`,class:"video__link absolute top-0 left-0 h-full w-full"},[e("picture",null,[e("source",{srcset:`https://i.ytimg.com/vi_webp/${t.game.images.trailer}/maxresdefault.webp`,type:"image/webp"},null,8,se),e("img",{class:"video__media absolute top-0 left-0 h-full w-full rounded-23px border-0 border-none",src:`https://i.ytimg.com/vi/${t.game.images.trailer}/maxresdefault.jpg`,alt:t.game.title},null,8,le)])],8,te),oe],512)])])])])])),t.loader?m("",!0):(i(),a("div",ie,[e("div",ae,[e("div",re,[e("h2",ne,o(t.game.title),1)]),e("div",ce,[e("div",de,[e("div",me,[e("div",ue,[e("div",xe,[e("div",ge,[e("h4",he,o(t.game.title),1),e("span",pe,o(t.game.genre),1)]),e("ul",_e,[e("li",we,[be,n(" "+o(t.game.rating),1)]),e("li",fe,[ye,n(" "+o(s.numForm(t.game.downloaded,"M")),1)])])])]),e("div",ve,[e("div",ke,[e("ul",null,[e("li",De,[Ie,n(" "+o(t.game.rating),1)]),e("li",Ce,[Ge,n(" "+o(s.numForm(t.game.downloaded,"M")),1)]),e("li",Me,[je,n(" "+o(t.game.size),1)]),e("li",Se,[Le,n(" "+o(t.game.genre),1)])])])]),(i(!0),a(w,null,y(t.game.images.screenshot,(d,b)=>(i(),a("div",{class:"mt-7/5 w-full max-w-full px-3 lg:w-1/3 lg:shrink-0 lg:grow-0 lg:basis-auto",key:b},[e("img",{src:d,alt:b,onClick:Oe=>c.openImage(d),class:"mx-auto mb-7/5 rounded-23px"},null,8,Ne)]))),128)),t.modal.open?(i(),p(r,{key:0,image:t.modal.image,title:t.game.title,onClose:l[0]||(l[0]=d=>t.modal.open=!1)},null,8,["image","title"])):m("",!0),e("div",Ae,[e("p",Be,o(t.game.description),1)]),e("div",Re,[e("div",ze,[c.checkHasGame()?c.checkDownload()?(i(),a("button",{key:2,onClick:l[3]||(l[3]=_(()=>{},["prevent"]))},"Launch "+o(t.game.title),1)):(i(),a("button",{key:1,onClick:l[2]||(l[2]=_(d=>c.downloadGame(t.game.gameID),["prevent"]))}," Download "+o(t.game.title)+" Now! ",1)):(i(),a("button",{key:0,onClick:l[1]||(l[1]=_(d=>c.getGame(t.game.gameID),["prevent"])),type:"button"}," Get "+o(t.game.title)+" Now! ",1))])])])])])])]))]),t.loader?m("",!0):(i(),p(v,{key:0,id:t.game.gameID},null,8,["id"]))],64)}const Ue=f(Z,[["render",Fe]]);export{Ue as default};
