import{_ as f,r as g,o as i,c as a,a as e,F as p,d as y,e as v,w as k,f as n,t as o,m as D,b as w,g as u,z as _}from"./index-b737849b.js";const G={props:["id"],data(){return{loader:!0,games:[]}},async mounted(){this.games=await this.$store.dispatch("fetchGames"),this.loader=!1},computed:{onlySix(){const s=this.games.findIndex(l=>l.gameID===this.id);return this.games.splice(s,1),this.games.slice(0,6)}}},I={class:"mt-15 rounded-23px bg-primary-100 px-7/5 pt-7/5"},C={class:"-mx-3 mt-0 flex flex-wrap"},j=e("div",{class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},[e("div",null,[e("h4",{class:"mb-7/5 text-[20px] font-bold text-primary-200 md:text-[34px]"},[e("em",{class:"not-italic text-white underline"},"Other Related"),n(" Games ")])])],-1),M={class:"relative mb-7/5 border-b border-secondary pb-[52px]"},S=["src","alt"],L={class:"text-15px tr-300 mb-[5px] inline-block w-[60%] text-white group-hover:text-primary-200"},N=e("br",null,null,-1),A={class:"mt-[7px] block font-normal text-gray-66"},B={class:"absolute right-0 top-[15px]"},R={class:"flex items-center justify-center text-right text-[14px] text-white"},z=e("i",{class:"bx bx-xs bxs-star pr-1 text-yellow-400"},null,-1),F={class:"flex items-center justify-center text-right text-[14px] text-white"},O=e("i",{class:"bx bx-xs bxs-cloud-download pr-1 text-primary-200"},null,-1);function V(s,l,d,m,t,c){const x=g("router-link");return i(),a("section",I,[e("div",C,[j,(i(!0),a(p,null,y(c.onlySix,r=>(i(),a("div",{class:"mt-0 w-full max-w-full px-3 lg:w-1/2 lg:shrink-0 lg:grow-0 lg:basis-auto",key:r.gameID},[v(x,{to:`/details/${r.gameID}`,tag:"div",class:"item group block"},{default:k(()=>[e("div",M,[e("img",{src:r.images.imgMin,alt:r.title,class:"float-left mr-[15px] w-full max-w-[80px] rounded-[23px]"},null,8,S),e("h4",L,[n(o(r.title)+" ",1),N,e("span",A,o(r.genre),1)]),e("ul",B,[e("li",R,[z,n(" "+o(r.rating),1)]),e("li",F,[O,n(" "+o(s.numForm(r.downloaded,"M")),1)])])])]),_:2},1032,["to"])]))),128))])])}const q=f(G,[["render",V]]);function U(s){let l=s.querySelector(".video__link"),d=s.querySelector(".video__media"),m=s.querySelector(".video__button"),t=$(d);s.addEventListener("click",()=>{let c=E(t);l.remove(),m.remove(),s.appendChild(c)}),l.removeAttribute("href"),s.classList.add("video--enabled")}function $(s){let l=/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;return s.src.match(l)[1]}function E(s){let l=document.createElement("iframe");return l.setAttribute("allowfullscreen",""),l.setAttribute("allow","autoplay"),l.setAttribute("src",P(s)),l.classList.add("video__media","absolute","top-0","left-0","h-full","w-full","border-0","border-none","rounded-23px"),l}function P(s){let l="?rel=0&showinfo=0&autoplay=1";return"https://www.youtube.com/embed/"+s+l}const H={components:{DetailsRelated:q},data(){return{game:null,user:{games:{}},loader:!0}},methods:{checkHasGame(){return!!Object.hasOwnProperty.call(this.user.games,this.game.gameID)},checkDownload(){return Object.hasOwnProperty.call(this.user.games,this.game.gameID)||null?this.user.games[this.game.gameID].download:!1},async getGame(s){await this.$store.dispatch("getGame",{gameID:s,dateAdded:Number(new Date),download:!1,hoursPlayed:0}),this.user.games[s]={download:!1}},async downloadGame(s){await this.$store.dispatch("downloadGame",s),this.user.games[s].download=!0}},async mounted(){this.game=await this.$store.dispatch("fetchGameByID",this.$route.params.id),this.user.games=await this.getUser.games,this.loader=!1,setTimeout(()=>{U(this.$refs.video)},0)},computed:{...D(["getUser"])}},T={key:1,class:"-mx-3 mt-0 flex flex-wrap"},Z={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},J={class:"-mx-3 mt-0 flex flex-wrap"},K={class:"mx-auto mt-0 w-2/3 max-w-full px-3 lg:w-1/3 lg:shrink-0 lg:grow-0 lg:basis-auto"},Q=["src"],W={class:"mt-7/5 w-full max-w-full px-3 lg:mt-0 lg:w-2/3 lg:shrink-0 lg:grow-0 lg:basis-auto"},X={class:"video relative h-0 w-full rounded-23px bg-black pb-[56.25%]",ref:"video"},Y=["href"],ee=["srcset"],te=["src","alt"],se=e("button",{class:"video__button absolute top-1/2 left-1/2 z-[1] hidden h-12 w-[68px] -translate-x-1/2 -translate-y-1/2 cursor-pointer border-0 border-none bg-transparent p-0","aria-label":"start trailer"},[e("svg",{width:"68",height:"48",viewBox:"0 0 68 48"},[e("path",{class:"video__button-shape",d:"M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z"}),e("path",{class:"video__button-icon",d:"M 45,24 27,14 27,34"})])],-1),le={key:2},oe={class:"-mx-3 mt-0 flex flex-wrap"},ie={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},ae={class:"my-15 text-center text-[45px] uppercase"},re={class:"mt-0 w-full max-w-full px-3 lg:shrink-0 lg:grow-0 lg:basis-auto"},ne={class:"rounded-23px bg-primary-100 p-7/5"},ce={class:"-mx-3 mt-0 flex flex-wrap"},de={class:"mt-0 mb-7/5 w-full max-w-full shrink-0 px-3 lg:mb-0 lg:w-1/2 lg:grow-0 lg:basis-auto lg:first-line:w-1/2"},me={class:"mb-7/5 h-full rounded-23px bg-secondary px-7/5 pt-5 pb-7"},ue={class:"float-left"},xe={class:"block text-[15px]"},he={class:"mt-[7px] block font-normal text-gray-66"},_e={class:"float-right"},ge={class:"flex items-center justify-center text-right text-[14px] text-white"},pe=e("i",{class:"bx bx-xs bxs-star pr-1 text-yellow-400"},null,-1),be={class:"mt-[7px] flex items-center justify-center text-right text-[14px] text-white"},we=e("i",{class:"bx bx-xs bxs-cloud-download pr-1 text-primary-200"},null,-1),fe={class:"mt-0 w-full max-w-full shrink-0 px-3 lg:w-1/2 lg:grow-0 lg:basis-auto"},ye={class:"h-full rounded-23px bg-secondary px-7/5 pt-5 pb-7/5"},ve={class:"inline-block w-[23%] text-center text-[14px] text-white"},ke=e("i",{class:"bx bx-xs bxs-star mb-3 block text-yellow-400"},null,-1),De={class:"inline-block w-[23%] text-center text-[14px] text-white"},Ge=e("i",{class:"bx bx-xs bxs-cloud-download mb-3 block text-primary-200"},null,-1),Ie={class:"inline-block w-[23%] text-center text-[14px] text-white"},Ce=e("i",{class:"bx bx-xs bxs-hdd mb-3 block text-primary-200"},null,-1),je={class:"inline-block w-[23%] text-center text-[14px] text-white"},Me=e("i",{class:"bx bx-xs bxs-joystick-alt mb-3 block text-primary-200"},null,-1),Se=["src","alt"],Le={class:"mt-0 w-full max-w-full shrink-0 px-3 lg:grow-0 lg:basis-auto"},Ne={class:"mb-0 text-[15px] leading-[30px] text-gray-66"},Ae={class:"mt-7/5 w-full max-w-full shrink-0 px-3 text-center lg:grow-0 lg:basis-auto"},Be={class:"main-border-button"};function Re(s,l,d,m,t,c){const x=g("loader"),r=g("DetailsRelated");return i(),a(p,null,[e("section",null,[t.loader?(i(),w(x,{key:0})):u("",!0),t.loader?u("",!0):(i(),a("div",T,[e("div",Z,[e("div",null,[e("div",J,[e("div",K,[e("img",{src:t.game.images.imgMin,class:"w-full overflow-hidden rounded-23px",alt:""},null,8,Q)]),e("div",W,[e("div",X,[e("a",{href:`https://youtu.be/${t.game.images.trailer}`,class:"video__link absolute top-0 left-0 h-full w-full"},[e("picture",null,[e("source",{srcset:`https://i.ytimg.com/vi_webp/${t.game.images.trailer}/maxresdefault.webp`,type:"image/webp"},null,8,ee),e("img",{class:"video__media absolute top-0 left-0 h-full w-full rounded-23px border-0 border-none",src:`https://i.ytimg.com/vi/${t.game.images.trailer}/maxresdefault.jpg`,alt:t.game.title},null,8,te)])],8,Y),se],512)])])])])])),t.loader?u("",!0):(i(),a("div",le,[e("div",oe,[e("div",ie,[e("h2",ae,o(t.game.title),1)]),e("div",re,[e("div",ne,[e("div",ce,[e("div",de,[e("div",me,[e("div",ue,[e("h4",xe,o(t.game.title),1),e("span",he,o(t.game.genre),1)]),e("ul",_e,[e("li",ge,[pe,n(" "+o(t.game.rating),1)]),e("li",be,[we,n(" "+o(s.numForm(t.game.downloaded,"M")),1)])])])]),e("div",fe,[e("div",ye,[e("ul",null,[e("li",ve,[ke,n(" "+o(t.game.rating),1)]),e("li",De,[Ge,n(" "+o(s.numForm(t.game.downloaded,"M")),1)]),e("li",Ie,[Ce,n(" "+o(t.game.size),1)]),e("li",je,[Me,n(" "+o(t.game.genre),1)])])])]),(i(!0),a(p,null,y(t.game.images.screenshot,(h,b)=>(i(),a("div",{class:"mt-7/5 w-full max-w-full px-3 lg:w-1/3 lg:shrink-0 lg:grow-0 lg:basis-auto",key:b},[e("img",{src:h,alt:b,class:"mx-auto mb-7/5 rounded-23px"},null,8,Se)]))),128)),e("div",Le,[e("p",Ne,o(t.game.description),1)]),e("div",Ae,[e("div",Be,[c.checkHasGame()?c.checkDownload()?(i(),a("button",{key:2,onClick:l[2]||(l[2]=_(()=>{},["prevent"]))},"Launch "+o(t.game.title),1)):(i(),a("button",{key:1,onClick:l[1]||(l[1]=_(h=>c.downloadGame(t.game.gameID),["prevent"]))}," Download "+o(t.game.title)+" Now! ",1)):(i(),a("button",{key:0,onClick:l[0]||(l[0]=_(h=>c.getGame(t.game.gameID),["prevent"])),type:"button"}," Get "+o(t.game.title)+" Now! ",1))])])])])])])]))]),t.loader?u("",!0):(i(),w(r,{key:0,id:t.game.gameID},null,8,["id"]))],64)}const Fe=f(H,[["render",Re]]);export{Fe as default};
